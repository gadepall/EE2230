\documentclass[journal,12pt,twocolumn]{IEEEtran}
\makeatletter
\@addtoreset{figure}{problem}
\makeatother
\usepackage{setspace}
\usepackage{gensymb}
\usepackage{xcolor}
\usepackage{caption}
%\usepackage{multirow}
%\usepackage{multicolumn}
%\usepackage{subcaption}
%\doublespacing
\singlespacing
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{enumerate}
\usepackage{amssymb}
\usepackage{iithtlc}
\usepackage{graphicx}
\usepackage{newfloat}
%\usepackage{syntax}
\usepackage{listings}
\usepackage{color}
\usepackage{tikz}
\usepackage[american]{circuitikz}
\usetikzlibrary{shapes,arrows}



%\usepackage{graphicx}
%\usepackage{amssymb}
%\usepackage{relsize}
%\usepackage[cmex10]{amsmath}
%\usepackage{mathtools}
%\usepackage{amsthm}
%\interdisplaylinepenalty=2500
%\savesymbol{iint}
%\usepackage{txfonts}
%\restoresymbol{TXF}{iint}
%\usepackage{wasysym}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{txfonts}
\usepackage{stfloats}
\usepackage{cite}
\usepackage{cases}
\usepackage{mathtools}
\usepackage{caption}
\usepackage{enumerate}	
\usepackage{enumitem}
\usepackage{amsmath}
%\usepackage{xtab}
\usepackage{longtable}
\usepackage{multirow}
%\usepackage{algorithm}
%\usepackage{algpseudocode}
\usepackage{enumitem}
\usepackage{mathtools}

%\usepackage[framemethod=tikz]{mdframed}
\usepackage{listings}
\usepackage{listings}
    %\usepackage[latin1]{inputenc}                                 %%
    \usepackage{color}                                            %%
    \usepackage{array}                                            %%
    \usepackage{longtable}                                        %%
    \usepackage{calc}                                             %%
    \usepackage{multirow}                                         %%
    \usepackage{hhline}                                           %%
    \usepackage{ifthen}                                           %%
  %optionally (for landscape tables embedded in another document): %%
    \usepackage{lscape}     



%\usepackage{stmaryrd}


%\usepackage{wasysym}
%\newcounter{MYtempeqncnt}
\DeclareMathOperator*{\Res}{Res}
%\renewcommand{\baselinestretch}{2}
\renewcommand\thesection{\arabic{section}}
\renewcommand\thesubsection{\thesection.\arabic{subsection}}
\renewcommand\thesubsubsection{\thesubsection.\arabic{subsubsection}}

\renewcommand\thesectiondis{\arabic{section}}
\renewcommand\thesubsectiondis{\thesectiondis.\arabic{subsection}}
\renewcommand\thesubsubsectiondis{\thesubsectiondis.\arabic{subsubsection}}

% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}

%\lstset{
%language=C,
%frame=single, 
%breaklines=true
%}

%\lstset{
	%%basicstyle=\small\ttfamily\bfseries,
	%%numberstyle=\small\ttfamily,
	%language=Octave,
	%backgroundcolor=\color{white},
	%%frame=single,
	%%keywordstyle=\bfseries,
	%%breaklines=true,
	%%showstringspaces=false,
	%%xleftmargin=-10mm,
	%%aboveskip=-1mm,
	%%belowskip=0mm
%}

%\surroundwithmdframed[width=\columnwidth]{lstlisting}
\def\inputGnumericTable{}                                 %%
\lstset{
language=C,
frame=single, 
breaklines=true
}
 

\begin{document}
%
\tikzstyle{block} = [rectangle, draw,
    text width=2em, text centered, minimum height=3em]
\tikzstyle{sum} = [draw, circle, node distance=3cm]
\tikzstyle{input} = [coordinate]
\tikzstyle{output} = [coordinate]
\tikzstyle{pinstyle} = [pin edge={to-,thin,black}]

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{problem}{Problem}
\newtheorem{proposition}{Proposition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{example}{Example}[section]
\newtheorem{definition}{Definition}[section]
%\newtheorem{algorithm}{Algorithm}[section]
%\newtheorem{cor}{Corollary}
\newcommand{\BEQA}{\begin{eqnarray}}
\newcommand{\EEQA}{\end{eqnarray}}
\newcommand{\define}{\stackrel{\triangle}{=}}

\bibliographystyle{IEEEtran}
%\bibliographystyle{ieeetr}

\providecommand{\nCr}[2]{\,^{#1}C_{#2}} % nCr
\providecommand{\nPr}[2]{\,^{#1}P_{#2}} % nPr
\providecommand{\mbf}{\mathbf}
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{{}\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{{}\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{{}\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}}
\providecommand{\abs}[1]{\left\vert#1\right\vert}
\providecommand{\res}[1]{\Res\displaylimits_{#1}} 
\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\mtx}[1]{\mathbf{#1}}
\providecommand{\mean}[1]{E\left[ #1 \right]}
\providecommand{\fourier}{\overset{\mathcal{F}}{ \rightleftharpoons}}
%\providecommand{\hilbert}{\overset{\mathcal{H}}{ \rightleftharpoons}}
\providecommand{\system}{\overset{\mathcal{H}}{ \longleftrightarrow}}
	%\newcommand{\solution}[2]{\textbf{Solution:}{#1}}
\newcommand{\solution}{\noindent \textbf{Solution: }}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
%\numberwithin{equation}{subsection}
\numberwithin{equation}{problem}
%\numberwithin{problem}{subsection}
%\numberwithin{definition}{subsection}
\makeatletter
\@addtoreset{figure}{problem}
\makeatother

\let\StandardTheFigure\thefigure
%\renewcommand{\thefigure}{\theproblem.\arabic{figure}}
\renewcommand{\thefigure}{\theproblem}


%\numberwithin{figure}{subsection}

%\numberwithin{equation}{subsection}
%\numberwithin{equation}{section}
\numberwithin{equation}{problem}
%\numberwithin{problem}{subsection}
\numberwithin{problem}{section}
%%\numberwithin{definition}{subsection}
%\makeatletter
%\@addtoreset{figure}{problem}
%\makeatother
\makeatletter
\@addtoreset{table}{problem}
\makeatother

\let\StandardTheFigure\thefigure
\let\StandardTheTable\thetable
%%\renewcommand{\thefigure}{\theproblem.\arabic{figure}}
%\renewcommand{\thefigure}{\theproblem}

%%\numberwithin{figure}{section}

%%\numberwithin{figure}{subsection}



\def\putbox#1#2#3{\makebox[0in][l]{\makebox[#1][l]{}\raisebox{\baselineskip}[0in][0in]{\raisebox{#2}[0in][0in]{#3}}}}
     \def\rightbox#1{\makebox[0in][r]{#1}}
     \def\centbox#1{\makebox[0in]{#1}}
     \def\topbox#1{\raisebox{-\baselineskip}[0in][0in]{#1}}
     \def\midbox#1{\raisebox{-0.5\baselineskip}[0in][0in]{#1}}

\vspace{3cm}

\title{ 
	\logo{
AC-DC Converter
	}
}

\author{B Swaroop Reddy and  G V V Sharma$^{*}$% <-this % stops a space
	\thanks{*The author is with the Department
		of Electrical Engineering, Indian Institute of Technology, Hyderabad
		502285 India e-mail:  gadepall@iith.ac.in. All content in this manual is released under GNU GPL.  Free and open source.}
	
}	

\maketitle

\tableofcontents
\bigskip

\begin{abstract}
	
	This manual provides the design of a mobile charger.
	
\end{abstract}

%\section{AC-DC Converter}
\section{Components}
\begin{table}[!h]
\centering
\input{./figs/components.tex}
\caption{}
\label{table:components}
\end{table}
%\begin{enumerate} 
%\item Step-Down Transformer (230 V AC to 12V-0-12V , 750 mA)
%\item Diodes - 4
%\item Capacitor - 100 $\mu$ F , 0.1 $\mu$ F - 2 no's
%\item Voltage Regulator - LM7805
%\end{enumerate}
\section{Circuit Diagram}
The circuit diagram is shown in \ref{fig1}
\begin{figure}[!h]
\centering
\resizebox {\columnwidth} {!} {
\input{./figs/acdc.tex}
}
\caption{AC-DC circuit diagram} 
\label{fig1}
\end{figure}


%\begin{figure}
 %      \centering  

\section{Connections}
%\subsection{Steps to Convert 230V AC to 5V , 2A DC}
%\subsubsection{Step Down the Voltage Level}
%\begin{problem}
%How can you convert 23V AC voltage to 12V DC voltage?
%\end{problem} 
%230V AC is converted into 12V AC using a step-down transformer. 
%12V output of step-down transformer is an RMS %value and its peak value is given by the product %of square root of two with RMS value, which is %approximately 17V.
\begin{problem}
Connect the various components in Table \ref{table:components} as per Fig. \ref{fig1}.
%Connect the 230V AC supply to the input of the step-down transformer.
\end{problem}
%\subsubsection{Convert AC to DC}
%\begin{problem}
%Connect the 4 diodes in bridge as shown in fig \ref{fig1} .
%\end{problem}
%\begin{problem}
%Connect the 12V and OV wires of the transformer to the to the juction of diodes D1, D2 and D3 , D4 .   
%\end{problem}
\begin{problem}
Observe the output of the Bridge Rectifier between junctions of D1,D4 and D2,D3 on  oscilloscope. What do you observe?
\end{problem}
\solution
\begin{figure}[h]
\centering
	\includegraphics[scale=0.4]{./figs/sine.eps}
	\caption{}  \label{fig2}
    \end{figure}

%AC power can be converted into DC using one of the power electronic converters called as Rectifier. The bridge rectifier is frequently used for converting AC to DC. \\
%Bridge rectifier consists of four diodes which are connected in the form a bridge. We know that the diode is an uncontrolled rectifier which will conduct only forward bias and will not conduct during the reverse bias. If the diode anode voltage is greater than the cathode voltage then the diode is said to be in forward bias. During positive half cycle, diodes D2 and D4 will conduct and during negative half cycle diodes D1 and D3 will conduct. Thus, AC is converted into DC; here the obtained is not a pure DC as it consists of pulses. Hence, it is called as pulsating DC power. But voltage drop across the diodes is (2*0.7V) 1.4V; therefore, the peak voltage at the output of this retifier circuit is 15V (17-1.4) approx.
\section{Functioning}
\subsection{Ripple Filter}
%\begin{problem}
%What is the role of the capacitor in the circuit?
%\end{problem}
%\solution
%The output of the diode bridge is a DC consisting of ripples also called as pulsating DC. This pulsating DC can be filtered using an inductor filter or a capacitor filter or a resistor-capacitor-coupled filter for removing the ripples. Consider a capacitor filter which is frequently used in most cases for smoothing.
\begin{problem}
Measure the output of the capacitor filter using multimeter. What do you observe?
\end{problem}
\subsection{Regulator}
The pin description of LM7805 is shown in Fig. \ref{fig3}
\begin{figure}[h]
\centering
	\includegraphics[scale=0.4]{./figs/Lm7805.eps}
	\caption{}  \label{fig3}
    \end{figure}

\begin{problem}
Connect pin 1 and pin 2 of LM7805 to positive and Ground terminals of capacitor. 
\end{problem} 
\begin{problem}
Measure the Voltage across  and current passing through the pin 3 and Ground of LM7805. What do you observe?
\end{problem}

\section{Fourier series analysis of AC-DC converter}
\begin{problem}
The output of the transformer is 12V rms. Find the peak voltage from the rms voltage.
\end{problem}
\solution
\begin{align*}
V_{m} &= \sqrt{2}V_{rms} 
\end{align*}
\begin{problem}
The threshold voltage for each diode in Fig. \ref{fig1} is $V_{\text{th}} = 0.7$V. What is the peak voltage of the Bridge rectifier output?
\end{problem}
\solution
\begin{align*}
V_{r} &= V_{m} - 2 V_{\text{th}}
\end{align*}
\begin{problem}
\label{prob2.1}
The Bridge rectifier output can be expressed as
\begin{equation}
V(t) = V_r \abs{\sin\brak{2\pi f_0 t}}
\end{equation}
If
%The following expression
%
\begin{equation}
V(t) = \sum_{n=0}^{\infty}a_n\cos 2\pi n f_0 t + b_n \sin 2 \pi n f_0 t
\end{equation}
find $a_n$ and $b_n$.
%is known as the Fourier series expansion of $X(t)$, where $f = \frac{1}{T}$.  Find 
%\begin{align}
%a_n &= \frac{2}{T} \int_{0}^{T}X(t) \cos 2\pi nf t \, dt \\
%b_n &= \frac{2}{T} \int_{0}^{T}X(t) \sin 2\pi nf t \, dt
%\end{align}
%Find the Fourier series expansion for $X(t)$ shown in fig \ref{fig2} . \label{prob2.1}
\end{problem}
\begin{problem}
Assuming that $f_0 = 100$Hz, in Problem  \ref{prob2.1} compute $a_0$ and compare it with the ripple filter output. 
\end{problem}
\begin{problem}
Demonstrate your results thorugh a Python script.
\end{problem}
\end{document}
